<form (ngSubmit)="submit()" [formGroup]="form">
  <div class="row">
    <div class="col-md-12">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Type</mat-label>
        <mat-select formControlName="type">
          <mat-option [value]="0">Expense</mat-option>
          <mat-option [value]="1">Income</mat-option>
        </mat-select>

        <mat-icon matSuffix>create</mat-icon>
        <mat-error *ngIf="controls?.name?.hasError('required')">
          Type is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Date</mat-label>
        <input [matDatepicker]="picker" formControlName="date" matInput placeholder="Choose a date">
        <mat-datepicker-toggle [for]="picker" matSuffix></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <mat-error *ngIf="controls?.date?.hasError('required')">
          Date is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
    <div class="col-md-6">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Time</mat-label>
        <input formControlName="time" matInput type="time">
        <mat-icon matSuffix>create</mat-icon>
        <mat-error *ngIf="controls?.time?.hasError('required')">
          Time is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Amount</mat-label>
        <input formControlName="amount" matInput placeholder="Enter amount" type="number">
        <mat-icon matSuffix>create</mat-icon>
        <mat-error *ngIf="controls?.amount?.hasError('required')">
          Amount is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
    <div class="col-md-6">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Payee/Payer</mat-label>
        <input formControlName="payeeOrPayer" matInput placeholder="Enter payee or payer">
        <mat-icon matSuffix>create</mat-icon>
        <mat-error *ngIf="controls?.payeeOrPayer?.hasError('required')">
          Payee or payer is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Category</mat-label>
        <mat-select formControlName="category">
          <mat-option *ngFor="let c of categories" [value]="c?._id">{{c?.name}}</mat-option>
        </mat-select>

        <mat-icon matSuffix>create</mat-icon>
        <mat-error *ngIf="controls?.category?.hasError('required')">
          Category is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
    <div class="col-md-6">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Payment Method</mat-label>
        <mat-select formControlName="paymentMethod">
          <mat-option *ngFor="let p of paymentMethods" [value]="p?._id">{{p?.name}}</mat-option>
        </mat-select>

        <mat-icon matSuffix>create</mat-icon>
        <mat-error *ngIf="controls?.paymentMethod?.hasError('required')">
          Payment method is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Status</mat-label>
        <mat-select formControlName="status">
          <mat-option *ngFor="let e of expenseStatuses" [value]="e?._id">{{e?.name}}</mat-option>
        </mat-select>

        <mat-icon matSuffix>create</mat-icon>
        <mat-error *ngIf="controls?.status?.hasError('required')">
          Status is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Description</mat-label>
        <textarea formControlName="description" matInput placeholder="Enter description"></textarea>
        <mat-error *ngIf="controls?.description?.hasError('required')">
          Description is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
  </div>
  <div class="row text-center">
    <div class="col-md-12">
      <button [disabled]="form.invalid" color="primary" mat-stroked-button type="submit">Save
      </button>
      <button (click)="dialogRef.close()" color="danger" mat-stroked-button type="button">Close
      </button>
    </div>
  </div>
</form>

